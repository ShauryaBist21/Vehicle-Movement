{"ast":null,"code":"var _jsxFileName = \"E:\\\\Vehcile movement\\\\src\\\\components\\\\MapComponent.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState, useRef, useCallback } from \"react\";\nimport 'leaflet/dist/leaflet.css';\nimport { MapContainer, TileLayer, Polyline, Marker, useMap } from \"react-leaflet\";\nimport L from \"leaflet\";\nimport styles from \"./MapComponent.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst vehicleIcon = new L.Icon({\n  iconUrl: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjQ4IiB5PSIxNiIgcng9IjgiIGZpbGw9IiNmZjAwMDAiLz4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjMyIiB4PSI4IiB5PSIyMCIgcnk9IjQiIGZpbGw9IiNmZjAwMDAiLz4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjgiIHg9IjgiIHk9IjQ4IiByeD0iNCIgZmlsbD0iI2ZmZmZmZiIvPgo8Y2lyY2xlIGN4PSIxNiIgY3k9IjU2IiByPSI0IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjQ4IiBjeT0iNTYiIHI9IjQiIGZpbGw9IiMwMDAwMDAiLz4KPC9zdmc+Cg==',\n  iconSize: [30, 30],\n  iconAnchor: [20, 20],\n  popupAnchor: [0, -20]\n});\nfunction haversineDistance(lat1, lon1, lat2, lon2) {\n  const toRad = x => x * Math.PI / 180;\n  const R = 6371000;\n  const dLat = toRad(lat2 - lat1);\n  const dLon = toRad(lon2 - lon1);\n  const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  return R * c;\n}\nfunction MapComponent() {\n  _s();\n  const [route, setRoute] = useState([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [playing, setPlaying] = useState(false);\n  const [elapsedTime, setElapsedTime] = useState(0);\n  const [distanceTravelled, setDistanceTravelled] = useState(0);\n  const [speed, setSpeed] = useState(0);\n  const animationRef = useRef(null);\n  const startTimeRef = useRef(null);\n  const lastTimestampRef = useRef(null);\n  const lastPositionRef = useRef(null);\n  const progressRef = useRef(0);\n  useEffect(() => {\n    fetch(\"/dummy-route.json\").then(res => res.json()).then(data => setRoute(data));\n  }, []);\n  useEffect(() => {\n    if (!playing) {\n      setCurrentIndex(0);\n      setElapsedTime(0);\n      setDistanceTravelled(0);\n      setSpeed(0);\n      progressRef.current = 0;\n      lastTimestampRef.current = null;\n      lastPositionRef.current = null;\n      if (animationRef.current) cancelAnimationFrame(animationRef.current);\n    }\n  }, [playing, route]);\n  const animate = useCallback(() => {\n    if (!playing || route.length === 0) return;\n    const current = route[currentIndex];\n    const next = route[currentIndex + 1];\n    if (!next) {\n      setPlaying(false);\n      return;\n    }\n    const currentTime = Date.now();\n    if (!startTimeRef.current) startTimeRef.current = currentTime;\n    const elapsed = (currentTime - startTimeRef.current) / 1000;\n    setElapsedTime(elapsed);\n    const timeDiff = (new Date(next.timestamp).getTime() - new Date(current.timestamp).getTime()) / 1000;\n    const segmentElapsed = elapsed - currentIndex * timeDiff;\n    progressRef.current = Math.min(segmentElapsed / timeDiff, 1);\n    const lat = current.latitude + (next.latitude - current.latitude) * progressRef.current;\n    const lng = current.longitude + (next.longitude - current.longitude) * progressRef.current;\n    if (lastPositionRef.current) {\n      const dist = haversineDistance(lastPositionRef.current[0], lastPositionRef.current[1], lat, lng);\n      setDistanceTravelled(prev => prev + dist);\n      const secDiff = (currentTime - (lastTimestampRef.current ? new Date(lastTimestampRef.current).getTime() : currentTime)) / 1000;\n      if (secDiff > 0) setSpeed(dist / secDiff);\n    }\n    lastPositionRef.current = [lat, lng];\n    lastTimestampRef.current = new Date(current.timestamp).toISOString();\n    if (progressRef.current >= 1) {\n      setCurrentIndex(prev => Math.min(prev + 1, route.length - 1));\n      progressRef.current = 0;\n      startTimeRef.current = Date.now();\n    }\n    animationRef.current = requestAnimationFrame(animate);\n  }, [playing, currentIndex, route]);\n  useEffect(() => {\n    if (playing) {\n      startTimeRef.current = null;\n      animationRef.current = requestAnimationFrame(animate);\n    } else if (animationRef.current) {\n      cancelAnimationFrame(animationRef.current);\n    }\n    return () => {\n      if (animationRef.current) cancelAnimationFrame(animationRef.current);\n    };\n  }, [playing, animate]);\n  if (route.length === 0) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 34\n  }, this);\n  const current = route[currentIndex];\n  const next = route[Math.min(currentIndex + 1, route.length - 1)];\n  const lat = current.latitude + (next.latitude - current.latitude) * progressRef.current;\n  const lng = current.longitude + (next.longitude - current.longitude) * progressRef.current;\n  const currentPos = [lat, lng];\n  const traveledPath = route.slice(0, currentIndex + 1).map(p => [p.latitude, p.longitude]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: styles.header,\n      children: \"\\uD83D\\uDE97 Vehicle Route Simulator\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.mapWrapper,\n      children: /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: currentPos,\n        zoom: 15,\n        scrollWheelZoom: true,\n        style: {\n          height: \"100%\",\n          width: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n          attribution: \"\\xA9 OpenStreetMap\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Marker, {\n          position: currentPos,\n          icon: vehicleIcon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Polyline, {\n          positions: traveledPath,\n          color: \"blue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RecenterMap, {\n          coords: currentPos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.controls,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setPlaying(!playing),\n        className: styles.button,\n        children: playing ? \"⏸ Pause\" : \"▶️ Play\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setPlaying(false);\n          setCurrentIndex(0);\n          setElapsedTime(0);\n          setDistanceTravelled(0);\n          setSpeed(0);\n          progressRef.current = 0;\n          lastTimestampRef.current = null;\n          lastPositionRef.current = null;\n        },\n        className: styles.button,\n        children: \"\\uD83D\\uDD04 Reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.info,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Coordinates:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 12\n        }, this), \" \", lat.toFixed(6), \", \", lng.toFixed(6)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Timestamp:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 12\n        }, this), \" \", current.timestamp.replace('T', ' ').replace('Z', '')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Elapsed Time:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 12\n        }, this), \" \", Math.floor(elapsedTime), \" sec\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Distance:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 12\n        }, this), \" \", distanceTravelled.toFixed(2), \" m\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Speed:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 12\n        }, this), \" \", speed.toFixed(2), \" m/s\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n}\n_s(MapComponent, \"4KDwS5ovuGKEbvAI0aHq0BGUBBs=\");\n_c = MapComponent;\nfunction RecenterMap({\n  coords\n}) {\n  _s2();\n  const map = useMap();\n  useEffect(() => {\n    map.setView(coords);\n  }, [coords]);\n  return null;\n}\n_s2(RecenterMap, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c2 = RecenterMap;\nexport default MapComponent;\nvar _c, _c2;\n$RefreshReg$(_c, \"MapComponent\");\n$RefreshReg$(_c2, \"RecenterMap\");","map":{"version":3,"names":["React","useEffect","useState","useRef","useCallback","MapContainer","TileLayer","Polyline","Marker","useMap","L","styles","jsxDEV","_jsxDEV","vehicleIcon","Icon","iconUrl","iconSize","iconAnchor","popupAnchor","haversineDistance","lat1","lon1","lat2","lon2","toRad","x","Math","PI","R","dLat","dLon","a","sin","cos","c","atan2","sqrt","MapComponent","_s","route","setRoute","currentIndex","setCurrentIndex","playing","setPlaying","elapsedTime","setElapsedTime","distanceTravelled","setDistanceTravelled","speed","setSpeed","animationRef","startTimeRef","lastTimestampRef","lastPositionRef","progressRef","fetch","then","res","json","data","current","cancelAnimationFrame","animate","length","next","currentTime","Date","now","elapsed","timeDiff","timestamp","getTime","segmentElapsed","min","lat","latitude","lng","longitude","dist","prev","secDiff","toISOString","requestAnimationFrame","children","fileName","_jsxFileName","lineNumber","columnNumber","currentPos","traveledPath","slice","map","p","className","container","header","mapWrapper","center","zoom","scrollWheelZoom","style","height","width","url","attribution","position","icon","positions","color","RecenterMap","coords","controls","onClick","button","info","toFixed","replace","floor","_c","_s2","setView","_c2","$RefreshReg$"],"sources":["E:/Vehcile movement/src/components/MapComponent.tsx"],"sourcesContent":["import React, { useEffect, useState, useRef, useCallback } from \"react\";\r\nimport 'leaflet/dist/leaflet.css';\r\nimport {\r\n  MapContainer,\r\n  TileLayer,\r\n  Polyline,\r\n  Marker,\r\n  useMap\r\n} from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport styles from \"./MapComponent.module.css\";\r\n\r\ninterface LocationPoint {\r\n  latitude: number;\r\n  longitude: number;\r\n  timestamp: string;\r\n}\r\n\r\nconst vehicleIcon = new L.Icon({\r\n  iconUrl: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjQ4IiB5PSIxNiIgcng9IjgiIGZpbGw9IiNmZjAwMDAiLz4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjMyIiB4PSI4IiB5PSIyMCIgcnk9IjQiIGZpbGw9IiNmZjAwMDAiLz4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjgiIHg9IjgiIHk9IjQ4IiByeD0iNCIgZmlsbD0iI2ZmZmZmZiIvPgo8Y2lyY2xlIGN4PSIxNiIgY3k9IjU2IiByPSI0IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjQ4IiBjeT0iNTYiIHI9IjQiIGZpbGw9IiMwMDAwMDAiLz4KPC9zdmc+Cg==',\r\n  iconSize: [30, 30],\r\n  iconAnchor: [20, 20],\r\n  popupAnchor: [0, -20],\r\n});\r\n\r\n\r\nfunction haversineDistance(lat1: number, lon1: number, lat2: number, lon2: number) {\r\n  const toRad = (x: number) => (x * Math.PI) / 180;\r\n  const R = 6371000;\r\n  const dLat = toRad(lat2 - lat1);\r\n  const dLon = toRad(lon2 - lon1);\r\n  const a =\r\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n    Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) *\r\n    Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n  return R * c;\r\n}\r\n\r\nfunction MapComponent() {\r\n  const [route, setRoute] = useState<LocationPoint[]>([]);\r\n  const [currentIndex, setCurrentIndex] = useState<number>(0);\r\n  const [playing, setPlaying] = useState<boolean>(false);\r\n  const [elapsedTime, setElapsedTime] = useState<number>(0);\r\n  const [distanceTravelled, setDistanceTravelled] = useState<number>(0);\r\n  const [speed, setSpeed] = useState<number>(0);\r\n\r\n  const animationRef = useRef<number | null>(null);\r\n  const startTimeRef = useRef<number | null>(null);\r\n  const lastTimestampRef = useRef<string | null>(null);\r\n  const lastPositionRef = useRef<[number, number] | null>(null);\r\n  const progressRef = useRef<number>(0);\r\n\r\n  useEffect(() => {\r\n    fetch(\"/dummy-route.json\")\r\n      .then(res => res.json())\r\n      .then((data: LocationPoint[]) => setRoute(data));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!playing) {\r\n      setCurrentIndex(0);\r\n      setElapsedTime(0);\r\n      setDistanceTravelled(0);\r\n      setSpeed(0);\r\n      progressRef.current = 0;\r\n      lastTimestampRef.current = null;\r\n      lastPositionRef.current = null;\r\n      if (animationRef.current) cancelAnimationFrame(animationRef.current);\r\n    }\r\n  }, [playing, route]);\r\n\r\n  const animate = useCallback(() => {\r\n    if (!playing || route.length === 0) return;\r\n\r\n    const current = route[currentIndex];\r\n    const next = route[currentIndex + 1];\r\n\r\n    if (!next) {\r\n      setPlaying(false);\r\n      return;\r\n    }\r\n\r\n    const currentTime = Date.now();\r\n    if (!startTimeRef.current) startTimeRef.current = currentTime;\r\n    const elapsed = (currentTime - startTimeRef.current) / 1000;\r\n    setElapsedTime(elapsed);\r\n\r\n    const timeDiff = (new Date(next.timestamp).getTime() - new Date(current.timestamp).getTime()) / 1000;\r\n    const segmentElapsed = elapsed - (currentIndex * timeDiff);\r\n    progressRef.current = Math.min(segmentElapsed / timeDiff, 1);\r\n\r\n    const lat = current.latitude + (next.latitude - current.latitude) * progressRef.current;\r\n    const lng = current.longitude + (next.longitude - current.longitude) * progressRef.current;\r\n\r\n    if (lastPositionRef.current) {\r\n      const dist = haversineDistance(lastPositionRef.current[0], lastPositionRef.current[1], lat, lng);\r\n      setDistanceTravelled(prev => prev + dist);\r\n\r\n      const secDiff = (currentTime - (lastTimestampRef.current ? new Date(lastTimestampRef.current).getTime() : currentTime)) / 1000;\r\n      if (secDiff > 0) setSpeed(dist / secDiff);\r\n    }\r\n\r\n    lastPositionRef.current = [lat, lng];\r\n    lastTimestampRef.current = new Date(current.timestamp).toISOString();\r\n\r\n    if (progressRef.current >= 1) {\r\n      setCurrentIndex(prev => Math.min(prev + 1, route.length - 1));\r\n      progressRef.current = 0;\r\n      startTimeRef.current = Date.now();\r\n    }\r\n\r\n    animationRef.current = requestAnimationFrame(animate);\r\n  }, [playing, currentIndex, route]);\r\n\r\n  useEffect(() => {\r\n    if (playing) {\r\n      startTimeRef.current = null;\r\n      animationRef.current = requestAnimationFrame(animate);\r\n    } else if (animationRef.current) {\r\n      cancelAnimationFrame(animationRef.current);\r\n    }\r\n\r\n    return () => {\r\n      if (animationRef.current) cancelAnimationFrame(animationRef.current);\r\n    };\r\n  }, [playing, animate]);\r\n\r\n  if (route.length === 0) return <p>Loading...</p>;\r\n\r\n  const current = route[currentIndex];\r\n  const next = route[Math.min(currentIndex + 1, route.length - 1)];\r\n  const lat = current.latitude + (next.latitude - current.latitude) * progressRef.current;\r\n  const lng = current.longitude + (next.longitude - current.longitude) * progressRef.current;\r\n  const currentPos: [number, number] = [lat, lng];\r\n  const traveledPath = route.slice(0, currentIndex + 1).map(p => [p.latitude, p.longitude]);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <h2 className={styles.header}>🚗 Vehicle Route Simulator</h2>\r\n\r\n      <div className={styles.mapWrapper}>\r\n        <MapContainer center={currentPos} zoom={15} scrollWheelZoom style={{ height: \"100%\", width: \"100%\" }}>\r\n          <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" attribution=\"&copy; OpenStreetMap\" />\r\n          <Marker position={currentPos} icon={vehicleIcon} />\r\n          <Polyline positions={traveledPath as L.LatLngTuple[]} color=\"blue\" />\r\n          <RecenterMap coords={currentPos} />\r\n        </MapContainer>\r\n      </div>\r\n\r\n      <div className={styles.controls}>\r\n        <button onClick={() => setPlaying(!playing)} className={styles.button}>\r\n          {playing ? \"⏸ Pause\" : \"▶️ Play\"}\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            setPlaying(false);\r\n            setCurrentIndex(0);\r\n            setElapsedTime(0);\r\n            setDistanceTravelled(0);\r\n            setSpeed(0);\r\n            progressRef.current = 0;\r\n            lastTimestampRef.current = null;\r\n            lastPositionRef.current = null;\r\n          }}\r\n          className={styles.button}\r\n        >\r\n          🔄 Reset\r\n        </button>\r\n      </div>\r\n\r\n      <div className={styles.info}>\r\n        <p><strong>Coordinates:</strong> {lat.toFixed(6)}, {lng.toFixed(6)}</p>\r\n        <p><strong>Timestamp:</strong> {current.timestamp.replace('T', ' ').replace('Z', '')}</p>\r\n        <p><strong>Elapsed Time:</strong> {Math.floor(elapsedTime)} sec</p>\r\n        <p><strong>Distance:</strong> {distanceTravelled.toFixed(2)} m</p>\r\n        <p><strong>Speed:</strong> {speed.toFixed(2)} m/s</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction RecenterMap({ coords }: { coords: [number, number] }) {\r\n  const map = useMap();\r\n  useEffect(() => {\r\n    map.setView(coords);\r\n  }, [coords]);\r\n  return null;\r\n}\r\n\r\nexport default MapComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}