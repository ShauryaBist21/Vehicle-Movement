{"ast":null,"code":"var _jsxFileName = \"E:\\\\Vehcile movement\\\\src\\\\components\\\\MapComponent.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState, useRef, useCallback } from \"react\";\nimport \"leaflet/dist/leaflet.css\";\nimport { MapContainer, TileLayer, Marker, Polyline, useMap } from \"react-leaflet\";\nimport L from \"leaflet\";\nimport styles from \"./MapComponent.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// SVG BUS ICON (Your original one)\nconst vehicleIcon = new L.Icon({\n  iconUrl: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjQ4IiB5PSIxNiIgcng9IjgiIGZpbGw9IiNmZjAwMDAiLz4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjMyIiB4PSI4IiB5PSIyMCIgcnk9IjQiIGZpbGw9IiNmZjAwMDAiLz4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjgiIHg9IjgiIHk9IjQ4IiByeD0iNCIgZmlsbD0iI2ZmZmZmZiIvPgo8Y2lyY2xlIGN4PSIxNiIgY3k9IjU2IiByPSI0IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjQ4IiBjeT0iNTYiIHI9IjQiIGZpbGw9IiMwMDAwMDAiLz4KPC9zdmc+Cg==',\n  iconSize: [30, 30],\n  iconAnchor: [15, 15],\n  popupAnchor: [0, -20]\n});\nfunction MapComponent() {\n  _s();\n  const [route, setRoute] = useState([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [playing, setPlaying] = useState(false);\n  const [elapsedTime, setElapsedTime] = useState(0);\n  const [distanceTravelled, setDistanceTravelled] = useState(0);\n  const [speed, setSpeed] = useState(0);\n  const animationRef = useRef(null);\n  const startTimeRef = useRef(null);\n  const lastTimestampRef = useRef(null);\n  const lastPositionRef = useRef(null);\n  const progressRef = useRef(0);\n\n  // Load route\n  useEffect(() => {\n    fetch(\"/dummy-route.json\").then(res => res.json()).then(data => setRoute(data));\n  }, []);\n\n  // Reset when paused/stopped\n  useEffect(() => {\n    if (!playing) {\n      setCurrentIndex(0);\n      setElapsedTime(0);\n      setDistanceTravelled(0);\n      setSpeed(0);\n      progressRef.current = 0;\n      lastTimestampRef.current = null;\n      lastPositionRef.current = null;\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n        animationRef.current = null;\n      }\n    }\n  }, [playing, route]);\n  const haversineDistance = (lat1, lon1, lat2, lon2) => {\n    const toRad = x => x * Math.PI / 180;\n    const R = 6371000;\n    const dLat = toRad(lat2 - lat1);\n    const dLon = toRad(lon2 - lon1);\n    const a = Math.sin(dLat / 2) ** 2 + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) ** 2;\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  };\n  const animate = useCallback(() => {\n    if (!playing || route.length === 0) return;\n    const currentPoint = route[currentIndex];\n    const nextIndex = currentIndex + 1;\n    if (nextIndex >= route.length) {\n      setPlaying(false);\n      return;\n    }\n    const nextPoint = route[nextIndex];\n    const currentTime = Date.now();\n    if (!startTimeRef.current) startTimeRef.current = currentTime;\n    const elapsed = (currentTime - startTimeRef.current) / 1000;\n    setElapsedTime(elapsed);\n    const segmentTime = (new Date(nextPoint.timestamp).getTime() - new Date(currentPoint.timestamp).getTime()) / 1000;\n    const segmentElapsed = elapsed - currentIndex * segmentTime;\n    progressRef.current = Math.min(segmentElapsed / segmentTime, 1);\n    const lat = currentPoint.latitude + (nextPoint.latitude - currentPoint.latitude) * progressRef.current;\n    const lng = currentPoint.longitude + (nextPoint.longitude - currentPoint.longitude) * progressRef.current;\n    if (lastPositionRef.current) {\n      const dist = haversineDistance(lastPositionRef.current[0], lastPositionRef.current[1], lat, lng);\n      setDistanceTravelled(prev => prev + dist);\n      const timeDiff = (currentTime - (lastTimestampRef.current ? new Date(lastTimestampRef.current).getTime() : currentTime)) / 1000;\n      if (timeDiff > 0) setSpeed(dist / timeDiff);\n    }\n    lastPositionRef.current = [lat, lng];\n    lastTimestampRef.current = new Date().toISOString();\n    if (progressRef.current >= 1) {\n      setCurrentIndex(prev => Math.min(prev + 1, route.length - 1));\n      progressRef.current = 0;\n      startTimeRef.current = Date.now();\n    }\n    animationRef.current = requestAnimationFrame(animate);\n  }, [playing, currentIndex, route]);\n  useEffect(() => {\n    if (playing) {\n      startTimeRef.current = null;\n      animationRef.current = requestAnimationFrame(animate);\n    }\n    return () => {\n      if (animationRef.current) cancelAnimationFrame(animationRef.current);\n    };\n  }, [playing, animate]);\n  if (route.length === 0) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading route...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 34\n  }, this);\n  const current = route[currentIndex];\n  const next = route[Math.min(currentIndex + 1, route.length - 1)];\n  const lat = current.latitude + (next.latitude - current.latitude) * progressRef.current;\n  const lng = current.longitude + (next.longitude - current.longitude) * progressRef.current;\n  const currentPos = [lat, lng];\n  const pathSoFar = [...route.slice(0, currentIndex + 1).map(p => [p.latitude, p.longitude]), currentPos];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    style: {\n      backgroundImage: 'url(\"/background.jpg\")',\n      backgroundSize: 'cover',\n      backgroundPosition: 'center',\n      backgroundRepeat: 'no-repeat'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: styles.header,\n      children: \"\\uD83D\\uDE97 Vehicle Route Simulator\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.mapWrapper,\n      children: /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: currentPos,\n        zoom: 14,\n        scrollWheelZoom: true,\n        style: {\n          height: \"60vh\",\n          width: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n          attribution: \"\\xA9 OpenStreetMap contributors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Marker, {\n          position: currentPos,\n          icon: vehicleIcon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Polyline, {\n          positions: pathSoFar,\n          color: \"blue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RecenterMap, {\n          coords: currentPos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.controls,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setPlaying(!playing),\n        className: styles.button,\n        children: playing ? \"⏸ Pause\" : \"▶️ Play\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setPlaying(false);\n          setCurrentIndex(0);\n          setElapsedTime(0);\n          setDistanceTravelled(0);\n          setSpeed(0);\n          progressRef.current = 0;\n          lastTimestampRef.current = null;\n          lastPositionRef.current = null;\n        },\n        className: styles.button,\n        children: \"\\uD83D\\uDD01 Reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.info,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Current Coordinates:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 12\n        }, this), \" \", currentPos[0].toFixed(6), \", \", currentPos[1].toFixed(6)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Timestamp:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 12\n        }, this), \" \", route[currentIndex].timestamp]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Elapsed Time:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 12\n        }, this), \" \", Math.floor(elapsedTime), \" sec\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Distance Travelled:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 12\n        }, this), \" \", distanceTravelled.toFixed(2), \" m\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Speed:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 12\n        }, this), \" \", speed.toFixed(2), \" m/s\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n}\n_s(MapComponent, \"4KDwS5ovuGKEbvAI0aHq0BGUBBs=\");\n_c = MapComponent;\nfunction RecenterMap({\n  coords\n}) {\n  _s2();\n  const map = useMap();\n  useEffect(() => {\n    map.setView(coords);\n  }, [coords]);\n  return null;\n}\n_s2(RecenterMap, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c2 = RecenterMap;\nexport default MapComponent;\nvar _c, _c2;\n$RefreshReg$(_c, \"MapComponent\");\n$RefreshReg$(_c2, \"RecenterMap\");","map":{"version":3,"names":["React","useEffect","useState","useRef","useCallback","MapContainer","TileLayer","Marker","Polyline","useMap","L","styles","jsxDEV","_jsxDEV","vehicleIcon","Icon","iconUrl","iconSize","iconAnchor","popupAnchor","MapComponent","_s","route","setRoute","currentIndex","setCurrentIndex","playing","setPlaying","elapsedTime","setElapsedTime","distanceTravelled","setDistanceTravelled","speed","setSpeed","animationRef","startTimeRef","lastTimestampRef","lastPositionRef","progressRef","fetch","then","res","json","data","current","cancelAnimationFrame","haversineDistance","lat1","lon1","lat2","lon2","toRad","x","Math","PI","R","dLat","dLon","a","sin","cos","c","atan2","sqrt","animate","length","currentPoint","nextIndex","nextPoint","currentTime","Date","now","elapsed","segmentTime","timestamp","getTime","segmentElapsed","min","lat","latitude","lng","longitude","dist","prev","timeDiff","toISOString","requestAnimationFrame","children","fileName","_jsxFileName","lineNumber","columnNumber","next","currentPos","pathSoFar","slice","map","p","className","container","style","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","header","mapWrapper","center","zoom","scrollWheelZoom","height","width","url","attribution","position","icon","positions","color","RecenterMap","coords","controls","onClick","button","info","toFixed","floor","_c","_s2","setView","_c2","$RefreshReg$"],"sources":["E:/Vehcile movement/src/components/MapComponent.tsx"],"sourcesContent":["import React, { useEffect, useState, useRef, useCallback } from \"react\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport {\r\n  MapContainer,\r\n  TileLayer,\r\n  Marker,\r\n  Polyline,\r\n  useMap\r\n} from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\n\r\nimport styles from \"./MapComponent.module.css\";\r\n\r\ninterface LocationPoint {\r\n  latitude: number;\r\n  longitude: number;\r\n  timestamp: string;\r\n}\r\n\r\n// SVG BUS ICON (Your original one)\r\nconst vehicleIcon = new L.Icon({\r\n  iconUrl: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjQ4IiB5PSIxNiIgcng9IjgiIGZpbGw9IiNmZjAwMDAiLz4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjMyIiB4PSI4IiB5PSIyMCIgcnk9IjQiIGZpbGw9IiNmZjAwMDAiLz4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjgiIHg9IjgiIHk9IjQ4IiByeD0iNCIgZmlsbD0iI2ZmZmZmZiIvPgo8Y2lyY2xlIGN4PSIxNiIgY3k9IjU2IiByPSI0IiBmaWxsPSIjMDAwMDAwIi8+CjxjaXJjbGUgY3g9IjQ4IiBjeT0iNTYiIHI9IjQiIGZpbGw9IiMwMDAwMDAiLz4KPC9zdmc+Cg==',\r\n  iconSize: [30, 30],\r\n  iconAnchor: [15, 15],\r\n  popupAnchor: [0, -20],\r\n});\r\n\r\nfunction MapComponent() {\r\n  const [route, setRoute] = useState<LocationPoint[]>([]);\r\n  const [currentIndex, setCurrentIndex] = useState<number>(0);\r\n  const [playing, setPlaying] = useState<boolean>(false);\r\n  const [elapsedTime, setElapsedTime] = useState<number>(0);\r\n  const [distanceTravelled, setDistanceTravelled] = useState<number>(0);\r\n  const [speed, setSpeed] = useState<number>(0);\r\n\r\n  const animationRef = useRef<number | null>(null);\r\n  const startTimeRef = useRef<number | null>(null);\r\n  const lastTimestampRef = useRef<string | null>(null);\r\n  const lastPositionRef = useRef<[number, number] | null>(null);\r\n  const progressRef = useRef<number>(0);\r\n\r\n  // Load route\r\n  useEffect(() => {\r\n    fetch(\"/dummy-route.json\")\r\n      .then((res) => res.json())\r\n      .then((data: LocationPoint[]) => setRoute(data));\r\n  }, []);\r\n\r\n  // Reset when paused/stopped\r\n  useEffect(() => {\r\n    if (!playing) {\r\n      setCurrentIndex(0);\r\n      setElapsedTime(0);\r\n      setDistanceTravelled(0);\r\n      setSpeed(0);\r\n      progressRef.current = 0;\r\n      lastTimestampRef.current = null;\r\n      lastPositionRef.current = null;\r\n      if (animationRef.current) {\r\n        cancelAnimationFrame(animationRef.current);\r\n        animationRef.current = null;\r\n      }\r\n    }\r\n  }, [playing, route]);\r\n\r\n  const haversineDistance = (lat1: number, lon1: number, lat2: number, lon2: number) => {\r\n    const toRad = (x: number) => (x * Math.PI) / 180;\r\n    const R = 6371000;\r\n    const dLat = toRad(lat2 - lat1);\r\n    const dLon = toRad(lon2 - lon1);\r\n    const a =\r\n      Math.sin(dLat / 2) ** 2 +\r\n      Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) *\r\n      Math.sin(dLon / 2) ** 2;\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    return R * c;\r\n  };\r\n\r\n  const animate = useCallback(() => {\r\n    if (!playing || route.length === 0) return;\r\n\r\n    const currentPoint = route[currentIndex];\r\n    const nextIndex = currentIndex + 1;\r\n\r\n    if (nextIndex >= route.length) {\r\n      setPlaying(false);\r\n      return;\r\n    }\r\n\r\n    const nextPoint = route[nextIndex];\r\n    const currentTime = Date.now();\r\n    if (!startTimeRef.current) startTimeRef.current = currentTime;\r\n    const elapsed = (currentTime - startTimeRef.current) / 1000;\r\n    setElapsedTime(elapsed);\r\n\r\n    const segmentTime = (new Date(nextPoint.timestamp).getTime() - new Date(currentPoint.timestamp).getTime()) / 1000;\r\n    const segmentElapsed = elapsed - (currentIndex * segmentTime);\r\n    progressRef.current = Math.min(segmentElapsed / segmentTime, 1);\r\n\r\n    const lat = currentPoint.latitude + (nextPoint.latitude - currentPoint.latitude) * progressRef.current;\r\n    const lng = currentPoint.longitude + (nextPoint.longitude - currentPoint.longitude) * progressRef.current;\r\n\r\n    if (lastPositionRef.current) {\r\n      const dist = haversineDistance(lastPositionRef.current[0], lastPositionRef.current[1], lat, lng);\r\n      setDistanceTravelled(prev => prev + dist);\r\n\r\n      const timeDiff = (currentTime - (lastTimestampRef.current ? new Date(lastTimestampRef.current).getTime() : currentTime)) / 1000;\r\n      if (timeDiff > 0) setSpeed(dist / timeDiff);\r\n    }\r\n\r\n    lastPositionRef.current = [lat, lng];\r\n    lastTimestampRef.current = new Date().toISOString();\r\n\r\n    if (progressRef.current >= 1) {\r\n      setCurrentIndex(prev => Math.min(prev + 1, route.length - 1));\r\n      progressRef.current = 0;\r\n      startTimeRef.current = Date.now();\r\n    }\r\n\r\n    animationRef.current = requestAnimationFrame(animate);\r\n  }, [playing, currentIndex, route]);\r\n\r\n  useEffect(() => {\r\n    if (playing) {\r\n      startTimeRef.current = null;\r\n      animationRef.current = requestAnimationFrame(animate);\r\n    }\r\n    return () => {\r\n      if (animationRef.current) cancelAnimationFrame(animationRef.current);\r\n    };\r\n  }, [playing, animate]);\r\n\r\n  if (route.length === 0) return <p>Loading route...</p>;\r\n\r\n  const current = route[currentIndex];\r\n  const next = route[Math.min(currentIndex + 1, route.length - 1)];\r\n  const lat = current.latitude + (next.latitude - current.latitude) * progressRef.current;\r\n  const lng = current.longitude + (next.longitude - current.longitude) * progressRef.current;\r\n  const currentPos: [number, number] = [lat, lng];\r\n\r\nconst pathSoFar: [number, number][] = [\r\n  ...route.slice(0, currentIndex + 1).map(p => [p.latitude, p.longitude] as [number, number]),\r\n  currentPos as [number, number]\r\n];\r\n\r\n\r\n  return (\r\n    <div\r\n      className={styles.container}\r\n      style={{\r\n        backgroundImage: 'url(\"/background.jpg\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        backgroundRepeat: 'no-repeat',\r\n      }}\r\n    >\r\n      <h2 className={styles.header}>🚗 Vehicle Route Simulator</h2>\r\n\r\n      <div className={styles.mapWrapper}>\r\n        <MapContainer center={currentPos} zoom={14} scrollWheelZoom style={{ height: \"60vh\", width: \"100%\" }}>\r\n          <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" attribution=\"&copy; OpenStreetMap contributors\" />\r\n          <Marker position={currentPos} icon={vehicleIcon} />\r\n          <Polyline positions={pathSoFar as L.LatLngTuple[]} color=\"blue\" />\r\n          <RecenterMap coords={currentPos} />\r\n        </MapContainer>\r\n      </div>\r\n\r\n      <div className={styles.controls}>\r\n        <button onClick={() => setPlaying(!playing)} className={styles.button}>\r\n          {playing ? \"⏸ Pause\" : \"▶️ Play\"}\r\n        </button>\r\n        <button onClick={() => {\r\n          setPlaying(false);\r\n          setCurrentIndex(0);\r\n          setElapsedTime(0);\r\n          setDistanceTravelled(0);\r\n          setSpeed(0);\r\n          progressRef.current = 0;\r\n          lastTimestampRef.current = null;\r\n          lastPositionRef.current = null;\r\n        }} className={styles.button}>\r\n          🔁 Reset\r\n        </button>\r\n      </div>\r\n\r\n      <div className={styles.info}>\r\n        <p><strong>Current Coordinates:</strong> {currentPos[0].toFixed(6)}, {currentPos[1].toFixed(6)}</p>\r\n        <p><strong>Timestamp:</strong> {route[currentIndex].timestamp}</p>\r\n        <p><strong>Elapsed Time:</strong> {Math.floor(elapsedTime)} sec</p>\r\n        <p><strong>Distance Travelled:</strong> {distanceTravelled.toFixed(2)} m</p>\r\n        <p><strong>Speed:</strong> {speed.toFixed(2)} m/s</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction RecenterMap({ coords }: { coords: [number, number] }) {\r\n  const map = useMap();\r\n  useEffect(() => {\r\n    map.setView(coords);\r\n  }, [coords]);\r\n  return null;\r\n}\r\n\r\nexport default MapComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}