{"ast":null,"code":"var _jsxFileName = \"E:\\\\Vehcile movement\\\\src\\\\components\\\\MapComponent.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport 'leaflet/dist/leaflet.css';\nimport 'leaflet-defaulticon-compatibility';\nimport 'leaflet-defaulticon-compatibility/dist/leaflet-defaulticon-compatibility.css';\nimport { MapContainer, TileLayer, Polyline, Marker, useMap } from \"react-leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport \"leaflet-defaulticon-compatibility\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction MapComponent() {\n  _s();\n  const [route, setRoute] = useState([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [playing, setPlaying] = useState(false);\n  const intervalRef = useRef(null);\n  useEffect(() => {\n    fetch(\"/dummy-route.json\").then(res => res.json()).then(data => {\n      setRoute(data);\n    });\n  }, []);\n  useEffect(() => {\n    if (playing && route.length > 0) {\n      intervalRef.current = setInterval(() => {\n        setCurrentIndex(prev => {\n          if (prev < route.length - 1) {\n            return prev + 1;\n          } else {\n            clearInterval(intervalRef.current);\n            return prev;\n          }\n        });\n      }, 2000);\n    }\n    return () => {\n      if (intervalRef.current) clearInterval(intervalRef.current);\n    };\n  }, [playing, route]);\n  if (route.length === 0) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading route...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 34\n  }, this);\n  const currentPos = [route[currentIndex].latitude, route[currentIndex].longitude];\n  const pathSoFar = route.slice(0, currentIndex + 1).map(p => [p.latitude, p.longitude]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: \"80vh\",\n        width: \"100%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: currentPos,\n        zoom: 15,\n        scrollWheelZoom: true,\n        style: {\n          height: \"100%\",\n          width: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n          attribution: \"\\xA9 OpenStreetMap contributors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Marker, {\n          position: currentPos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Polyline, {\n          positions: pathSoFar,\n          color: \"blue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RecenterMap, {\n          coords: currentPos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"20px\",\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setPlaying(!playing),\n        style: {\n          padding: \"10px 20px\",\n          fontSize: \"16px\"\n        },\n        children: playing ? \"Pause\" : \"Play\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Current Coordinates:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 12\n        }, this), \" \", currentPos[0].toFixed(6), \", \", currentPos[1].toFixed(6)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Timestamp:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 12\n        }, this), \" \", route[currentIndex].timestamp]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(MapComponent, \"GAamvM1s2hsL8xM+Osl5EWFp844=\");\n_c = MapComponent;\nfunction RecenterMap({\n  coords\n}) {\n  _s2();\n  const map = useMap();\n  useEffect(() => {\n    map.setView(coords);\n  }, [coords]);\n  return null;\n}\n_s2(RecenterMap, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c2 = RecenterMap;\nexport default MapComponent;\nvar _c, _c2;\n$RefreshReg$(_c, \"MapComponent\");\n$RefreshReg$(_c2, \"RecenterMap\");","map":{"version":3,"names":["React","useEffect","useState","useRef","MapContainer","TileLayer","Polyline","Marker","useMap","jsxDEV","_jsxDEV","Fragment","_Fragment","MapComponent","_s","route","setRoute","currentIndex","setCurrentIndex","playing","setPlaying","intervalRef","fetch","then","res","json","data","length","current","setInterval","prev","clearInterval","children","fileName","_jsxFileName","lineNumber","columnNumber","currentPos","latitude","longitude","pathSoFar","slice","map","p","style","height","width","center","zoom","scrollWheelZoom","url","attribution","position","positions","color","RecenterMap","coords","marginTop","textAlign","onClick","padding","fontSize","toFixed","timestamp","_c","_s2","setView","_c2","$RefreshReg$"],"sources":["E:/Vehcile movement/src/components/MapComponent.tsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport 'leaflet/dist/leaflet.css';\r\nimport 'leaflet-defaulticon-compatibility';\r\nimport 'leaflet-defaulticon-compatibility/dist/leaflet-defaulticon-compatibility.css';\r\n\r\nimport {\r\n  MapContainer,\r\n  TileLayer,\r\n  Polyline,\r\n  Marker,\r\n  useMap\r\n} from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport \"leaflet-defaulticon-compatibility\";\r\n\r\ninterface LocationPoint {\r\n  latitude: number;\r\n  longitude: number;\r\n  timestamp: string;\r\n}\r\n\r\nfunction MapComponent() {\r\n  const [route, setRoute] = useState<LocationPoint[]>([]);\r\n  const [currentIndex, setCurrentIndex] = useState<number>(0);\r\n  const [playing, setPlaying] = useState<boolean>(false);\r\n  const intervalRef = useRef<number | null>(null);\r\n\r\n\r\n  useEffect(() => {\r\n    fetch(\"/dummy-route.json\")\r\n      .then((res) => res.json())\r\n      .then((data: LocationPoint[]) => {\r\n        setRoute(data);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (playing && route.length > 0) {\r\n      intervalRef.current = setInterval(() => {\r\n        setCurrentIndex((prev) => {\r\n          if (prev < route.length - 1) {\r\n            return prev + 1;\r\n          } else {\r\n            clearInterval(intervalRef.current!);\r\n            return prev;\r\n          }\r\n        });\r\n      }, 2000);\r\n    }\r\n\r\n    return () => {\r\n      if (intervalRef.current) clearInterval(intervalRef.current);\r\n    };\r\n  }, [playing, route]);\r\n\r\n  if (route.length === 0) return <p>Loading route...</p>;\r\n\r\n  const currentPos: [number, number] = [\r\n    route[currentIndex].latitude,\r\n    route[currentIndex].longitude\r\n  ];\r\n\r\n  const pathSoFar: [number, number][] = route\r\n    .slice(0, currentIndex + 1)\r\n    .map((p) => [p.latitude, p.longitude]);\r\n\r\n  return (\r\n    <>\r\n      <div style={{ height: \"80vh\", width: \"100%\" }}>\r\n        <MapContainer center={currentPos} zoom={15} scrollWheelZoom={true} style={{ height: \"100%\", width: \"100%\" }}>\r\n          <TileLayer\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            attribution=\"&copy; OpenStreetMap contributors\"\r\n          />\r\n          <Marker position={currentPos}></Marker>\r\n          <Polyline positions={pathSoFar} color=\"blue\" />\r\n          <RecenterMap coords={currentPos} />\r\n        </MapContainer>\r\n      </div>\r\n\r\n      <div style={{ marginTop: \"20px\", textAlign: \"center\" }}>\r\n        <button onClick={() => setPlaying(!playing)} style={{ padding: \"10px 20px\", fontSize: \"16px\" }}>\r\n          {playing ? \"Pause\" : \"Play\"}\r\n        </button>\r\n        <p><strong>Current Coordinates:</strong> {currentPos[0].toFixed(6)}, {currentPos[1].toFixed(6)}</p>\r\n        <p><strong>Timestamp:</strong> {route[currentIndex].timestamp}</p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction RecenterMap({ coords }: { coords: [number, number] }) {\r\n  const map = useMap();\r\n  useEffect(() => {\r\n    map.setView(coords);\r\n  }, [coords]);\r\n  return null;\r\n}\r\n\r\nexport default MapComponent;\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAO,0BAA0B;AACjC,OAAO,mCAAmC;AAC1C,OAAO,8EAA8E;AAErF,SACEC,YAAY,EACZC,SAAS,EACTC,QAAQ,EACRC,MAAM,EACNC,MAAM,QACD,eAAe;AACtB,OAAO,0BAA0B;AACjC,OAAO,mCAAmC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAQ3C,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACtB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAkB,EAAE,CAAC;EACvD,MAAM,CAACe,YAAY,EAAEC,eAAe,CAAC,GAAGhB,QAAQ,CAAS,CAAC,CAAC;EAC3D,MAAM,CAACiB,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAU,KAAK,CAAC;EACtD,MAAMmB,WAAW,GAAGlB,MAAM,CAAgB,IAAI,CAAC;EAG/CF,SAAS,CAAC,MAAM;IACdqB,KAAK,CAAC,mBAAmB,CAAC,CACvBC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAqB,IAAK;MAC/BV,QAAQ,CAACU,IAAI,CAAC;IAChB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAENzB,SAAS,CAAC,MAAM;IACd,IAAIkB,OAAO,IAAIJ,KAAK,CAACY,MAAM,GAAG,CAAC,EAAE;MAC/BN,WAAW,CAACO,OAAO,GAAGC,WAAW,CAAC,MAAM;QACtCX,eAAe,CAAEY,IAAI,IAAK;UACxB,IAAIA,IAAI,GAAGf,KAAK,CAACY,MAAM,GAAG,CAAC,EAAE;YAC3B,OAAOG,IAAI,GAAG,CAAC;UACjB,CAAC,MAAM;YACLC,aAAa,CAACV,WAAW,CAACO,OAAQ,CAAC;YACnC,OAAOE,IAAI;UACb;QACF,CAAC,CAAC;MACJ,CAAC,EAAE,IAAI,CAAC;IACV;IAEA,OAAO,MAAM;MACX,IAAIT,WAAW,CAACO,OAAO,EAAEG,aAAa,CAACV,WAAW,CAACO,OAAO,CAAC;IAC7D,CAAC;EACH,CAAC,EAAE,CAACT,OAAO,EAAEJ,KAAK,CAAC,CAAC;EAEpB,IAAIA,KAAK,CAACY,MAAM,KAAK,CAAC,EAAE,oBAAOjB,OAAA;IAAAsB,QAAA,EAAG;EAAgB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAEtD,MAAMC,UAA4B,GAAG,CACnCtB,KAAK,CAACE,YAAY,CAAC,CAACqB,QAAQ,EAC5BvB,KAAK,CAACE,YAAY,CAAC,CAACsB,SAAS,CAC9B;EAED,MAAMC,SAA6B,GAAGzB,KAAK,CACxC0B,KAAK,CAAC,CAAC,EAAExB,YAAY,GAAG,CAAC,CAAC,CAC1ByB,GAAG,CAAEC,CAAC,IAAK,CAACA,CAAC,CAACL,QAAQ,EAAEK,CAAC,CAACJ,SAAS,CAAC,CAAC;EAExC,oBACE7B,OAAA,CAAAE,SAAA;IAAAoB,QAAA,gBACEtB,OAAA;MAAKkC,KAAK,EAAE;QAAEC,MAAM,EAAE,MAAM;QAAEC,KAAK,EAAE;MAAO,CAAE;MAAAd,QAAA,eAC5CtB,OAAA,CAACN,YAAY;QAAC2C,MAAM,EAAEV,UAAW;QAACW,IAAI,EAAE,EAAG;QAACC,eAAe,EAAE,IAAK;QAACL,KAAK,EAAE;UAAEC,MAAM,EAAE,MAAM;UAAEC,KAAK,EAAE;QAAO,CAAE;QAAAd,QAAA,gBAC1GtB,OAAA,CAACL,SAAS;UACR6C,GAAG,EAAC,oDAAoD;UACxDC,WAAW,EAAC;QAAmC;UAAAlB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChD,CAAC,eACF1B,OAAA,CAACH,MAAM;UAAC6C,QAAQ,EAAEf;QAAW;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS,CAAC,eACvC1B,OAAA,CAACJ,QAAQ;UAAC+C,SAAS,EAAEb,SAAU;UAACc,KAAK,EAAC;QAAM;UAAArB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC/C1B,OAAA,CAAC6C,WAAW;UAACC,MAAM,EAAEnB;QAAW;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvB;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACZ,CAAC,eAEN1B,OAAA;MAAKkC,KAAK,EAAE;QAAEa,SAAS,EAAE,MAAM;QAAEC,SAAS,EAAE;MAAS,CAAE;MAAA1B,QAAA,gBACrDtB,OAAA;QAAQiD,OAAO,EAAEA,CAAA,KAAMvC,UAAU,CAAC,CAACD,OAAO,CAAE;QAACyB,KAAK,EAAE;UAAEgB,OAAO,EAAE,WAAW;UAAEC,QAAQ,EAAE;QAAO,CAAE;QAAA7B,QAAA,EAC5Fb,OAAO,GAAG,OAAO,GAAG;MAAM;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrB,CAAC,eACT1B,OAAA;QAAAsB,QAAA,gBAAGtB,OAAA;UAAAsB,QAAA,EAAQ;QAAoB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,KAAC,EAACC,UAAU,CAAC,CAAC,CAAC,CAACyB,OAAO,CAAC,CAAC,CAAC,EAAC,IAAE,EAACzB,UAAU,CAAC,CAAC,CAAC,CAACyB,OAAO,CAAC,CAAC,CAAC;MAAA;QAAA7B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACnG1B,OAAA;QAAAsB,QAAA,gBAAGtB,OAAA;UAAAsB,QAAA,EAAQ;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,KAAC,EAACrB,KAAK,CAACE,YAAY,CAAC,CAAC8C,SAAS;MAAA;QAAA9B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/D,CAAC;EAAA,eACN,CAAC;AAEP;AAACtB,EAAA,CApEQD,YAAY;AAAAmD,EAAA,GAAZnD,YAAY;AAsErB,SAAS0C,WAAWA,CAAC;EAAEC;AAAqC,CAAC,EAAE;EAAAS,GAAA;EAC7D,MAAMvB,GAAG,GAAGlC,MAAM,CAAC,CAAC;EACpBP,SAAS,CAAC,MAAM;IACdyC,GAAG,CAACwB,OAAO,CAACV,MAAM,CAAC;EACrB,CAAC,EAAE,CAACA,MAAM,CAAC,CAAC;EACZ,OAAO,IAAI;AACb;AAACS,GAAA,CANQV,WAAW;EAAA,QACN/C,MAAM;AAAA;AAAA2D,GAAA,GADXZ,WAAW;AAQpB,eAAe1C,YAAY;AAAC,IAAAmD,EAAA,EAAAG,GAAA;AAAAC,YAAA,CAAAJ,EAAA;AAAAI,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}